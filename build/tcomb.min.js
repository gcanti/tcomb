!function(a,b){"use strict";"function"==typeof define&&define.amd?define([],b):"object"==typeof exports?module.exports=b():a.angular?a.angular.module("tcomb",[]).factory("tcomb",function(){return b()}):a.t=b()}(this,function(){"use strict";function a(a){throw t=!0,new Error(a)}function b(a){u.onFail(a)}function c(a){if(a!==!0){var c=v.call(arguments,1),d=c[0]?e.apply(null,c):"assert failed";b(d)}}function d(a,b,d){for(var e in b)b.hasOwnProperty(e)&&(d||c(!a.hasOwnProperty(e),"cannot overwrite property %s",e),a[e]=b[e]);return a}function e(){function a(a,f){if("%%"===a)return"%";if(d>=c)return a;var g=e.formatters[f];return g?g(b[d++]):a}var b=v.call(arguments),c=b.length,d=1,f=b[0],g=f.replace(/%([a-z%])/g,a);return c>d&&(g+=" "+b.slice(d).join(" ")),g}function f(a){return D.is(a)&&C.is(a.meta)}function g(a){return c(f(a),"bad type"),a.meta.name}function h(a,b){c(!(a instanceof b),w.ERR_NEW_OPERATOR_FORBIDDEN,g(b))}function i(){c(D.is(u.update),w.ERR_OPTIONS_UPDATE_MISSING);var a=this,b=v.call(arguments),d=u.update.apply(a,b);return a(d)}function j(a){return h(this,j),a}function k(a,b){function d(b){return h(this,d),c(d.is(b),w.ERR_BAD_TYPE_VALUE,a),b}return d.meta={kind:"primitive",name:a},d.is=b,d}function l(a,b){function d(e,f){if(c(C.is(e),w.ERR_BAD_TYPE_VALUE,b),d.is(e))return e;if(!(this instanceof d))return new d(e,f);for(var g in a)if(a.hasOwnProperty(g)){var h=a[g],i=e[g];this[g]=h.is(i)?i:h(i,f)}f||Object.freeze(this)}return c(C.is(a),w.ERR_BAD_COMBINATOR_ARGUMENT,"props"),b=b||"struct()",d.meta={kind:"struct",props:a,name:b},d.is=function(a){return a instanceof d},d.update=i,d}function m(a,b){function d(a,e){h(this,d),c(D.is(d.dispatch),"unimplemented %s.dispatch()",b);var f=d.dispatch(a);return f(a,e)}return c(B.is(a)&&a.every(f),w.ERR_BAD_COMBINATOR_ARGUMENT,"Ts"),b=b||e("union(%s)",a.map(g).join(", ")),d.meta={kind:"union",types:a,name:b},d.is=function(b){return a.some(function(a){return a.is(b)})},d}function n(a,b){function d(b,c){return h(this,d),x.is(b)?null:a(b,c)}return c(f(a),w.ERR_BAD_COMBINATOR_ARGUMENT,"T"),"maybe"===a.meta.kind?a:(b=b||e("maybe(%s)",g(a)),d.meta={kind:"maybe",type:a,name:b},d.is=function(b){return x.is(b)||a.is(b)},d)}function o(a,b){function d(a){return h(this,d),c(d.is(a),w.ERR_BAD_TYPE_VALUE,b),a}return c(C.is(a),w.ERR_BAD_COMBINATOR_ARGUMENT,"map"),b=b||"enums()",d.meta={kind:"enums",map:a,name:b},d.is=function(b){return y.is(b)&&a.hasOwnProperty(b)},d}function p(a,b){function d(e,f){if(h(this,d),c(B.is(e)&&e.length===j,w.ERR_BAD_TYPE_VALUE,b),d.isTuple(e))return e;for(var g=[],i=0;j>i;i++){var k=a[i],l=e[i];g.push(k.is(l)?l:k(l,f))}return f||Object.freeze(g),g}c(B.is(a)&&a.every(f),w.ERR_BAD_COMBINATOR_ARGUMENT,"Ts"),b=b||e("tuple(%s)",a.map(g).join(", "));var j=a.length;return d.meta={kind:"tuple",types:a,name:b},d.isTuple=function(b){return a.every(function(a,c){return a.is(b[c])})},d.is=function(a){return B.is(a)&&a.length===j&&this.isTuple(a)},d.update=i,d}function q(a,b,d){function i(e,f){h(this,i);var g=a(e,f);return c(b(g),w.ERR_BAD_TYPE_VALUE,d),g}return c(f(a),w.ERR_BAD_COMBINATOR_ARGUMENT,"T"),c(D.is(b),w.ERR_BAD_COMBINATOR_ARGUMENT,"predicate"),d=d||e("subtype(%s)",g(a)),i.meta={kind:"subtype",type:a,predicate:b,name:d},i.is=function(c){return a.is(c)&&b(c)},i}function r(a,b){function d(e,f){if(h(this,d),c(B.is(e),w.ERR_BAD_TYPE_VALUE,b),d.isList(e))return e;for(var g=[],i=0,j=e.length;j>i;i++){var k=e[i];g.push(a.is(k)?k:a(k,f))}return f||Object.freeze(g),g}return c(f(a),w.ERR_BAD_COMBINATOR_ARGUMENT,"T"),b=b||e("list(%s)",g(a)),d.meta={kind:"list",type:a,name:b},d.isList=function(b){return b.every(a.is)},d.is=function(a){return B.is(a)&&this.isList(a)},d.update=i,d}function s(a,b,d,e){function g(){var c=v.call(arguments);c.length<b.length&&(c.length=b.length),c=a.is(c)?c:a(c);var e=b.apply(null,c);return d&&(e=d.is(e)?e:d(e)),e}return d=d||null,c(f(a),w.ERR_BAD_COMBINATOR_ARGUMENT,"Arguments"),c(D.is(b),w.ERR_BAD_COMBINATOR_ARGUMENT,"f"),c(x.is(d)||f(d),w.ERR_BAD_COMBINATOR_ARGUMENT,"Return"),f(b)&&b.meta.Arguments===a&&b.meta.Return===d?b:(g.is=function(a){return a===g},g.meta={kind:"func",Arguments:a,f:b,Return:d,name:e},g)}var t=!1,u={onFail:a,update:null},v=Array.prototype.slice,w={ERR_BAD_TYPE_VALUE:"bad type value `%s`",ERR_BAD_COMBINATOR_ARGUMENT:"bad combinator argument `%s`",ERR_OPTIONS_UPDATE_MISSING:"`options.update` is missing",ERR_NEW_OPERATOR_FORBIDDEN:"`new` operator is forbidden for `%s`"};e.formatters={s:function(a){return String(a)},j:function(a){return JSON.stringify(a)}},j.meta={kind:"any",name:"Any"},j.is=function(){return!0};var x=k("Nil",function(a){return null===a||void 0===a}),y=k("Str",function(a){return"string"==typeof a}),z=k("Num",function(a){return"number"==typeof a&&isFinite(a)&&!isNaN(a)}),A=k("Bool",function(a){return a===!0||a===!1}),B=k("Arr",function(a){return a instanceof Array}),C=k("Obj",function(a){return!x.is(a)&&"object"==typeof a&&!B.is(a)}),D=k("Func",function(a){return"function"==typeof a}),E=k("Err",function(a){return a instanceof Error}),F=k("Re",function(a){return a instanceof RegExp}),G=k("Dat",function(a){return a instanceof Date});return o.of=function(a,b){a=y.is(a)?a.split(" "):a;var c={};return a.forEach(function(a,b){c[a]=b}),o(c,b)},{errs:w,options:u,assert:c,mixin:d,format:e,isType:f,getName:g,fail:b,Any:j,Nil:x,Str:y,Num:z,Bool:A,Arr:B,Obj:C,Func:D,Err:E,Re:F,Dat:G,struct:l,enums:o,union:m,maybe:n,tuple:p,subtype:q,list:r,func:s}});
//# sourceMappingURL=tcomb.min.js.map